<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0" />
<title>Dynamic</title>
<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
<!--[if lt IE 9]><link rel="stylesheet" type="text/css" href="plugins/jquery-ui/jquery.ui.1.10.2.ie.css"/><![endif]-->
<link href="assets/css/main.css" rel="stylesheet" type="text/css" />
<link href="assets/css/plugins.css" rel="stylesheet" type="text/css" />
<link href="assets/css/responsive.css" rel="stylesheet" type="text/css" />
<link href="assets/css/icons.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="assets/css/fontawesome/font-awesome.min.css">
<link ref="stylesheet" href="plugins/select2/4.0/css/select2.min.css">
<!--[if IE 7]><link rel="stylesheet" href="assets/css/fontawesome/font-awesome-ie7.min.css"><![endif]-->
<!--[if IE 8]><link href="assets/css/ie8.css" rel="stylesheet" type="text/css"/><![endif]-->
<!-- <link
	href='http://fonts.googleapis.com/css?family=Open+Sans:400,600,700'
	rel='stylesheet' type='text/css'> -->
</head>
<body>
	<header class="header navbar navbar-fixed-top" role="banner">
		<div class="container">
			<ul class="nav navbar-nav">
				<li class="nav-toggle"><a href="javascript:void(0);" title=""><i
						class="icon-reorder"></i></a></li>
			</ul>
			<a class="navbar-brand" href="index.html"> <img
				src="assets/img/logo.png" alt="logo" /> <strong>ME</strong>LON
			</a> <a href="#" class="toggle-sidebar bs-tooltip"
				data-placement="bottom" data-original-title="Toggle navigation">
				<i class="icon-reorder"></i>
			</a>
			<ul class="nav navbar-nav navbar-right">
				<li class="dropdown"><a href="#" class="dropdown-toggle"
					data-toggle="dropdown"> <i class="icon-warning-sign"></i> <span
						class="badge">5</span>
				</a>
					<ul class="dropdown-menu extended notification">
						<li class="title">
							<p>You have 5 new notifications</p>
						</li>
						<li><a href="javascript:void(0);"> <span class="label label-success"><i class="icon-plus"></i></span> <span class="message">New user registration.</span> <span class="time">1 mins</span>
						</a></li>
						<li><a href="javascript:void(0);"> <span class="label label-danger"><i class="icon-warning-sign"></i></span><span class="message">High CPU load on cluster #2.</span> <span	class="time">5 mins</span>
						</a></li>
						<li><a href="javascript:void(0);"> <span class="label label-success"><i class="icon-plus"></i></span><span class="message">New user registration.</span> <span class="time">10
									mins</span>
						</a></li>
						<li><a href="javascript:void(0);"> <span
								class="label label-info"><i class="icon-bullhorn"></i></span> <span
								class="message">New items are in queue.</span> <span
								class="time">25 mins</span>
						</a></li>
						<li><a href="javascript:void(0);"> <span
								class="label label-warning"><i class="icon-bolt"></i></span> <span
								class="message">Disk space to 85% full.</span> <span
								class="time">55 mins</span>
						</a></li>
						<li class="footer"><a href="javascript:void(0);">View all
								notifications</a></li>
					</ul></li>
				<li class="dropdown user">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown"> <i class="icon-male"></i> <span
						class="username">王超</span> <i class="icon-caret-down small"></i>
				    </a>
					<ul class="dropdown-menu">
						<li><a href="pages_user_profile.html"><i
								class="icon-user"></i> 个人资料</a></li>
						<li><a href="login.html"><i class="icon-key"></i> 注销</a></li>
					</ul></li>
			</ul>
		</div>
		<div id="project-switcher" class="container project-switcher">
			<div id="scrollbar">
				<div class="handle"></div>
			</div>
			<div id="frame">
				<ul class="project-list">
					<li><a href="javascript:void(0);"> <span class="image"><i
								class="icon-desktop"></i></span> <span class="title">Lorem ipsum
								dolor</span>
					</a></li>
					<li><a href="javascript:void(0);"> <span class="image"><i
								class="icon-compass"></i></span> <span class="title">Dolor sit
								invidunt</span>
					</a></li>
					<li class="current"><a href="javascript:void(0);"> <span
							class="image"><i class="icon-male"></i></span> <span
							class="title">Consetetur sadipscing elitr</span>
					</a></li>
					<li><a href="javascript:void(0);"> <span class="image"><i
								class="icon-thumbs-up"></i></span> <span class="title">Sed diam
								nonumy</span>
					</a></li>
					<li><a href="javascript:void(0);"> <span class="image"><i
								class="icon-female"></i></span> <span class="title">At vero eos
								et</span>
					</a></li>
					<li><a href="javascript:void(0);"> <span class="image"><i
								class="icon-beaker"></i></span> <span class="title">Sed diam
								voluptua</span>
					</a></li>
					<li><a href="javascript:void(0);"> <span class="image"><i
								class="icon-desktop"></i></span> <span class="title">Lorem ipsum
								dolor</span>
					</a></li>
					<li><a href="javascript:void(0);"> <span class="image"><i
								class="icon-compass"></i></span> <span class="title">Dolor sit
								invidunt</span>
					</a></li>
					<li><a href="javascript:void(0);"> <span class="image"><i
								class="icon-male"></i></span> <span class="title">Consetetur
								sadipscing elitr</span>
					</a></li>
					<li><a href="javascript:void(0);"> <span class="image"><i
								class="icon-thumbs-up"></i></span> <span class="title">Sed diam
								nonumy</span>
					</a></li>
					<li><a href="javascript:void(0);"> <span class="image"><i
								class="icon-female"></i></span> <span class="title">At vero eos
								et</span>
					</a></li>
					<li><a href="javascript:void(0);"> <span class="image"><i
								class="icon-beaker"></i></span> <span class="title">Sed diam
								voluptua</span>
					</a></li>
				</ul>
			</div>
		</div>
	</header>
	<div id="container">
		<div id="sidebar" class="sidebar-fixed">
			<div id="sidebar-content">
				<ul id="nav">
					<li><a href="index.html"> <i class="icon-dashboard"></i>
							Dashboard
					</a></li>
					<li><a href="javascript:void(0);"> <i class="icon-desktop"></i>
							UI Features <span class="label label-info pull-right">6</span>
					</a>
						<ul class="sub-menu">
							<li><a href="ui_general.html"> <i
									class="icon-angle-right"></i> General
							</a></li>
							<li><a href="ui_buttons.html"> <i
									class="icon-angle-right"></i> Buttons
							</a></li>
							<li><a href="ui_tabs_accordions.html"> <i
									class="icon-angle-right"></i> Tabs &amp; Accordions
							</a></li>
							<li><a href="ui_sliders.html"> <i
									class="icon-angle-right"></i> Sliders
							</a></li>
							<li><a href="ui_nestable_list.html"> <i
									class="icon-angle-right"></i> Nestable List
							</a></li>
							<li><a href="ui_typography.html"> <i
									class="icon-angle-right"></i> Typography / Icons
							</a></li>
							<li><a href="ui_google_maps.html"> <i
									class="icon-angle-right"></i> Google Maps
							</a></li>
							<li><a href="ui_grid.html"> <i class="icon-angle-right"></i>
									Grid
							</a></li>
						</ul></li>
					<li><a href="javascript:void(0);"> <i class="icon-edit"></i>
							Form Elements
					</a>
						<ul class="sub-menu">
							<li><a href="form_components.html"> <i
									class="icon-angle-right"></i> Form Components
							</a></li>
							<li><a href="form_layouts.html"> <i
									class="icon-angle-right"></i> Form Layouts
							</a></li>
							<li><a href="form_validation.html"> <i
									class="icon-angle-right"></i> Form Validation
							</a></li>
							<li><a href="form_wizard.html"> <i
									class="icon-angle-right"></i> Form Wizard
							</a></li>
						</ul></li>
					<li class="current open"><a href="javascript:void(0);"> <i
							class="icon-table"></i> Tables
					</a>
						<ul class="sub-menu">
							<li><a href="tables_static.html"> <i
									class="icon-angle-right"></i> Static Tables
							</a></li>
							<li class="current"><a href="tables_dynamic.html"> <i
									class="icon-angle-right"></i> Dynamic Tables (DataTables)
							</a></li>
							<li><a href="tables_responsive.html"> <i
									class="icon-angle-right"></i> Responsive Tables
							</a></li>
						</ul></li>
					<li><a href="charts.html"> <i class="icon-bar-chart"></i>
							Charts &amp; Statistics
					</a></li>
					<li><a href="javascript:void(0);"> <i
							class="icon-folder-open-alt"></i> Pages
					</a>
						<ul class="sub-menu">
							<li><a href="login.html"> <i class="icon-angle-right"></i>
									Login
							</a></li>
							<li><a href="pages_user_profile.html"> <i
									class="icon-angle-right"></i> User Profile
							</a></li>
							<li><a href="pages_calendar.html"> <i
									class="icon-angle-right"></i> Calendar
							</a></li>
							<li><a href="pages_invoice.html"> <i
									class="icon-angle-right"></i> Invoice
							</a></li>
							<li><a href="404.html"> <i class="icon-angle-right"></i>
									404 Page
							</a></li>
						</ul></li>
					<li><a href="javascript:void(0);"> <i class="icon-list-ol"></i>
							4 Level Menu
					</a>
						<ul class="sub-menu">
							<li class="open-default"><a href="javascript:void(0);">
									<i class="icon-cogs"></i> Item 1 <span class="arrow"></span>
							</a>
								<ul class="sub-menu">
									<li class="open-default"><a href="javascript:void(0);">
											<i class="icon-user"></i> Sample Link 1 <span class="arrow"></span>
									</a>
										<ul class="sub-menu">
											<li class="current"><a href="javascript:void(0);"><i
													class="icon-remove"></i> Sample Link 1</a></li>
											<li><a href="javascript:void(0);"><i
													class="icon-pencil"></i> Sample Link 1</a></li>
											<li><a href="javascript:void(0);"><i
													class="icon-edit"></i> Sample Link 1</a></li>
										</ul></li>
									<li><a href="javascript:void(0);"><i class="icon-user"></i>
											Sample Link 1</a></li>
									<li><a href="javascript:void(0);"><i
											class="icon-external-link"></i> Sample Link 2</a></li>
									<li><a href="javascript:void(0);"><i class="icon-bell"></i>
											Sample Link 3</a></li>
								</ul></li>
							<li><a href="javascript:void(0);"> <i class="icon-globe"></i>
									Item 2 <span class="arrow"></span>
							</a>
								<ul class="sub-menu">
									<li><a href="javascript:void(0);"><i class="icon-user"></i>
											Sample Link 1</a></li>
									<li><a href="javascript:void(0);"><i
											class="icon-external-link"></i> Sample Link 1</a></li>
									<li><a href="javascript:void(0);"><i class="icon-bell"></i>
											Sample Link 1</a></li>
								</ul></li>
							<li><a href="javascript:void(0);"> <i
									class="icon-folder-open"></i> Item 3
							</a></li>
						</ul></li>
				</ul>
				<div class="sidebar-title">
					<span>Notifications</span>
				</div>
				<ul class="notifications demo-slide-in">
					<li style="display: none;">
						<div class="col-left">
							<span class="label label-danger"><i
								class="icon-warning-sign"></i></span>
						</div>
						<div class="col-right with-margin">
							<span class="message">Server <strong>#512</strong>
								crashed.
							</span> <span class="time">few seconds ago</span>
						</div>
					</li>
					<li style="display: none;">
						<div class="col-left">
							<span class="label label-info"><i class="icon-envelope"></i></span>
						</div>
						<div class="col-right with-margin">
							<span class="message"><strong>John</strong> sent you a
								message</span> <span class="time">few second ago</span>
						</div>
					</li>
					<li>
						<div class="col-left">
							<span class="label label-success"><i class="icon-plus"></i></span>
						</div>
						<div class="col-right with-margin">
							<span class="message"><strong>Emma</strong>'s account was
								created</span> <span class="time">4 hours ago</span>
						</div>
					</li>
				</ul>
				<div class="sidebar-widget align-center">
					<div class="btn-group" data-toggle="buttons" id="theme-switcher">
						<label class="btn active"> <input type="radio"
							name="theme-switcher" data-theme="bright"><i
							class="icon-sun"></i> Bright
						</label> <label class="btn"> <input type="radio"
							name="theme-switcher" data-theme="dark"><i
							class="icon-moon"></i> Dark
						</label>
					</div>
				</div>
			</div>
			<div id="divider" class="resizeable"></div>
		</div>
		<div id="content">
			<div class="container">
				<div class="crumbs">
					<ul id="breadcrumbs" class="breadcrumb">
						<li><i class="icon-home"></i> <a href="index.html">业务管理</a>
						</li>
						<li class="current"><a href="pages_calendar.html" title="">业务窗口</a>
						</li>
					</ul>
				</div>
				<div class="page-header">
				</div>
				<!-- dataList -->
				<div class="row dataList">
					<div class="col-md-12">
						<div class="widget box">
							<div class="widget-header">
								<h4>
									<i class="icon-reorder"></i> 业务窗口列表
								</h4>
								<div class="toolbar no-padding">
									<div class="btn-group">
										<span class="btn btn-xs edit"> <i class="icon-plus"> </i>
											添加业务窗口
										</span>
									</div>
								</div>
							</div>
							<div class="widget-content no-padding">
								<table id="tb_user"
									class="table  table-striped table-bordered table-hover  dataTable" cellspacing="0" width="100%">
									<thead>
										<tr>
											<th></th>
											<th>状态</th>
											<th>业务名称</th>
											<th>办理窗口</th>
											<th>评价指标</th>
											<th>操作</th>
										</tr>
									</thead>
									<tbody>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div><!-- dataList -->
			<!-- dataForm -->	
			<div class="row dataForm" style="display:none;">
            <div class="col-md-12">
              <div class="widget box">
                <div class="widget-header">
                  <h4>
                    <i class="icon-reorder">
                    </i>
                    	增加业务
                  </h4>
                </div>
                <div class="widget-content">
                  <form id="businessForm" class="form-horizontal row-border" action="#">
                    <input type="hidden" id="id" name="id">
                    <div class="form-group">
                      <label class="col-md-2 control-label">
                                                               业务名称:
                      </label>
                      <div class="col-md-10">
                        <input type="text" id="title" name="title" maxlength="20" placeholder="不超过20个字符" class="form-control">
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="col-md-2 control-label" for="input18">
                                                                评价指标:
                      </label>
                      <div class="col-md-10">
                        <!-- <input id="indexes" class="select2-select-00 col-md-12 full-width-fix" multiple size="5"> -->
                            <select  class="select2-select-00" id="indexes"  multiple="multiple" ></select>
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="col-md-2 control-label" for="input18">
                                                                业务窗口:
                      </label>
                      <div class="col-md-10">
                        <select id="windows" class="select2-select-00 col-md-12 full-width-fix" multiple size="5">
                          <option>1号窗</option>
                          <option>2号窗</option>
                          <option>3号窗</option>
                          <option>4号窗</option>
                          <option>5号窗</option>
                          <option>6号窗</option>
                          <option>7号窗</option>
                          <option>8号窗</option>
                          <option>9号窗</option>
                          <option>10号窗</option>
                        </select>
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="col-md-2 control-label">
                                                                 是否激活:
                      </label>
                      <div class="col-md-10">
                        <div class="make-switch" data-off="default" data-on="success" data-on-label="<i class='icon-ok'></i>" data-off-label="<i class='icon-remove'></i>">
                          <input type="checkbox" id="state" checked value="1" class="toggle" />
                        </div>
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="col-md-2 control-label">
                                                              描述说明:
                      </label>
                      <div class="col-md-10">
                        <textarea rows="3" cols="5" id="description" name="description" class="limited form-control" data-limit="100"></textarea>
                        <span class="help-block" id="limit-text">
                        </span>
                      </div>
                    </div>
                    <!-- <div class="form-group">
                      <label class="col-md-2 control-label">
                                                               业务标签:
                      </label>
                      <div class="col-md-10">
                        <input type="text" id="tags2" class="tags" value="these,are,sample,tags">
                      </div>
                    </div> -->
                    <div class="form-actions">
                   		<input class="btn btn-danger remove" type="button" value="删除">
						<input class="btn btn-primary pull-right add" type="button" value="确定">
						<input class="btn btn-default pull-right cancel" type="button" value="取消">
					</div>
                  </form>
                </div>
              </div>
            </div>
          </div><!-- dataForm -->
			</div>
		</div>
	</div>
<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">新增</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal row-border" action="#">
                    <div class="form-group">
                      <label class="col-md-2 control-label">业务名称:</label>
                      <div class="col-md-10">
                        <input type="text" name="regular" maxlength="20" placeholder="不超过20个字符" class="form-control">
                      </div>
                    </div>
                  </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary" id="save">保存</button>
            </div>
        </div>
    </div>
</div><!-- modal end -->
<script type="text/javascript" src="assets/js/libs/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="plugins/jquery-ui/jquery-ui-1.10.2.custom.min.js"></script>
<script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="assets/js/libs/lodash.compat.min.js"></script>
<!--[if lt IE 9]><script src="assets/js/libs/html5shiv.js"></script><![endif]-->
<script type="text/javascript" src="plugins/touchpunch/jquery.ui.touch-punch.min.js"></script>
<script type="text/javascript" src="plugins/event.swipe/jquery.event.move.js"></script>
<script type="text/javascript" src="plugins/event.swipe/jquery.event.swipe.js"></script>
<script type="text/javascript" src="assets/js/libs/breakpoints.js"></script>
<script type="text/javascript" src="plugins/respond/respond.min.js"></script>
<script type="text/javascript" src="plugins/cookie/jquery.cookie.min.js"></script>
<script type="text/javascript" src="plugins/slimscroll/jquery.slimscroll.min.js"></script>
<script type="text/javascript" src="plugins/slimscroll/jquery.slimscroll.horizontal.min.js"></script>
<script type="text/javascript" src="plugins/sparkline/jquery.sparkline.min.js"></script>
<script type="text/javascript" src="plugins/daterangepicker/moment.min.js"></script>
<script type="text/javascript" src="plugins/daterangepicker/daterangepicker.js"></script>
<script type="text/javascript" src="plugins/blockui/jquery.blockUI.min.js"></script>
<script type="text/javascript" src="plugins/uniform/jquery.uniform.min.js"></script>
<script type="text/javascript" src="plugins/select2/4.0/js/select2.full.min.js"></script>
<script type="text/javascript" src="plugins/tagsinput/jquery.tagsinput.min.js"></script>
<script type="text/javascript" src="plugins/bootstrap-switch/bootstrap-switch.min.js"></script>
<script type="text/javascript" src="plugins/inputlimiter/jquery.inputlimiter.min.js"></script>
<script type="text/javascript" src="plugins/bootstrap-inputmask/jquery.inputmask.min.js"></script>
<script type="text/javascript" src="plugins/datatables/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="plugins/datatables/TableTools/js/dataTables.tableTools.min.js"></script>
<script type="text/javascript" src="plugins/datatables/ColVis/js/dataTables.colVis.min.js"></script>
<!-- <script type="text/javascript"
	src="plugins/datatables/columnfilter/jquery.dataTables.columnFilter.js"></script> -->
<script type="text/javascript" src="plugins/datatables/dataTables.bootstrap.js"></script>
<script type="text/javascript" src="assets/js/app.js"></script>
<script type="text/javascript" src="assets/js/plugins11.js"></script>

<script>
$(document).ready(function() {
	var editFlag=false;
    App.init();
    var table = $('#tb_user').DataTable({
        "searching": false,
        "ordering": false,
        "paging": false,
        "info": false,
        "bRetrieve": true,
        "processing": true,
        "serverSide": true,
        // "ajax": "app/business/listAll.action"
        "ajax": {
            "url": "../console/user/listAll.action",
            //默认为data，这里定义为demo
            "dataSrc": "content"
        },
        "columns": [{
            "data": "id"
        },
        {
            "data": "nickname"
        },
        {
            "data": "title"
        },
        {
            "data": "description"
        },
        {
            "data": "indexList"
        },
        {
            "data": null
        }],
        "columnDefs": [{
            "render": function(data, type, row) {
                if (data == "0")
                //return data + ' (' + row[3] + ')';
                return "<span class=\"label label-default\">inactive</span>";
                else return "<span class=\"label label-success\">active</span>";

            },
            "targets": 1
        },
        {
            "render": function(data, type, row) {
                return "" + row.id + "号窗口";

            },
            "targets": 3
        },
        {
            "render": function(data, type, row) {
                var html = "";
                $.each(data,
                function(i, item) {
                    html += "<i class=\"icon-star-empty\"></i> " + item.title + "&nbsp;&nbsp;";
                });
                return html;
            },
            "targets": 4
        },
        {
            "targets": 5,
            "data": null,
            "defaultContent": "<button class=\"btn btn-default btn-sm edit\">管理</button>"
        },
        {
            "visible": false,
            "targets": 0 //[0,1]
        }]

    });

    /* dataTable toolButtons */
    $('#tb_user tbody').on('click', 'button.edit',
    function() {
        var data = table.row($(this).parents('tr')).data();
       
        //alert( data[1] +"'s salary is: "+ data[ 5 ] );
        $("#id").val(data.id);
        $("#title").val(data.title);
        $("#description").val(data.description);
        $('.make-switch').bootstrapSwitch('setState',parseInt(data.state));
        $("#state").val(data.state);
        $("#indexes").val();
        $("#windows").val();
        $('.dataForm').show();
        $('.dataList').hide();
        //FormComponents.init();
        //$(".tags").tagsInput();
        
        var data = [{ id: 0, text: 'enhancement' }, { id: 1, text: 'bug',selected:true }, { id: 2, text: 'duplicate' ,selected:true}, { id: 3, text: 'invalid' }, { id: 4, text: 'wontfix' }];
 
$("#indexesq").select2({
	minimumResultsForSearch: Infinity,
  data: data
})
        $("#indexes").select2({
        	  ajax: {
        		    url: "../console/index/listAll.do",
        		    cache: "true",
        		     data: function (term, page) {
        	            return { q: term,  page: page  };
        	            //return null;
        	        },
        	        processResults: function (data, page){
        	        	console.log(data.content);
        	            return { results: data.content};
        	        }, 
        	        initSelection:function(element,callback){           //初始化，其中doName是自定义的一个属性，用来存放text的值
        	            console.log(element);  
        	        	var id=$(element).attr("id");
        	            var text=$(element).attr("title");
        	            if(id!=''&&text!=""){
        	                callback({id:id,text:text});
        	            }
        	        }, 
        	        templateResult: formatRepo,
        	        templateSelection: formatRepoSelection
        		  }
        })
    });
    function formatRepo (repo) {
    	console.log(repo);
    	return repo.title;
    }
    function formatRepoSelection (repo) {
        return repo.title || repo.id;
      }

    
    $('#tb_user tbody').on('click', 'button.remove',
    function() {
        var data = table.row($(this).parents('tr')).data();
        //alert( data[1] +"'s salary is: "+ data[ 5 ] );
        console.log(data.id);
    });
    /* dataTable toolButtons */
    
    $('.make-switch').on('switch-change', function (e, data) {
    /* var $el = $(data.el)
      , value = data.value;
    console.log(e, $el, value); */
    $('.make-switch').bootstrapSwitch('status');
});
    
    /* dataForm  toolButtons */
    $('.dataForm').on('click', 'input.cancel',
    function() {
    	$('#businessForm')[0].reset();
        $('.dataForm').hide();
        $('.dataList').show();
    });
    /**
     * 添加数据
     **/
    $('.dataForm').on('click', 'input.add',
    	    function() {
    	var state=0;
    	if($('.make-switch').bootstrapSwitch('status')=="true"||$('.make-switch').bootstrapSwitch('status')=="1"){
    		state=1;
    	}
    	    var addJson = {
    	    	"id": $("#id").val(),
                "title": $("#title").val(),
                "description": $("#description").val(),
                "state": state,
                "indexes": $("#indexes").val(),
                "windows": $("#windows").val()
            };
            ajax(addJson);
            $('#businessForm')[0].reset();
    	    $('.dataForm').hide();
    	    $('.dataList').show();
    	    });
    /**
     * 删除数据
     **/
    $('.dataForm').on('click', 'input.remove',
    	    function() {
    	        $('.dataForm').hide();
    	        $('.dataList').show();
    	    });
    /* dataForm  toolButtons */
      
      function ajax(obj) {
          var url ="../console/business/addOne.do" ;
          if(editFlag){
              url = "../console/business/addOne.do";
          }
          $.ajax({
              url:url ,
              type: "post", 
              data: {
            	  "id": obj.id,
                  "title": obj.title,
                  "description": obj.description,
                  "state": obj.state,
                  "indexes": obj.indexes,
                  "windows": obj.windows
              }, success: function (data) {
                  table.ajax.reload();
                  $("#myModal").modal("hide");
                  $("#myModalLabel").text("新增");
                  clear();
                  console.log("结果" + data);
              }
          });
      }
      
      /**
       * 删除数据
       * @param name
       */
      function del(name) {
          $.ajax({
              url: "/del.jsp",
              data: {
                  "name": name
              }, success: function (data) {
                  table.ajax.reload();
                  console.log("删除成功" + data);
              }
          });
      }
});
Plugins.init();
//FormComponents.init();
</script>
<script type="text/javascript" src="assets/js/plugins.form-components.js"></script>
<script type="text/javascript" src="assets/js/custom.js"></script>

</body>
</html>